import utils.frames as frames 
meter_parameters  = {
    "Active Power" : frames.AARQ,
    "Current Phase_A" : frames.AARQ,
    "Voltage phase_A" : frames.METER_VOLTAGE_PHASE_A,
    "Relay status" : frames.AARQ,
    "Total reactive energy(3.8.0" : frames.AARQ,
    "Total active energy(1.8.0" : frames.METER_ACTIVE_ENERGY,
}


obis_to_column = {
    # energy_profile_readings
    "1.8.0": ("energy_profile_readings", "import_total_active_energy"),
    "1.8.1": ("energy_profile_readings", "import_active_energy_T1"),
    "1.8.2": ("energy_profile_readings", "import_active_energy_T2"),
    "1.8.3": ("energy_profile_readings", "import_active_energy_T3"),
    "1.8.4": ("energy_profile_readings", "import_active_energy_T4"),
    "2.8.0": ("energy_profile_readings", "export_total_active_energy"),
    "2.8.1": ("energy_profile_readings", "export_active_energy_T1"),
    "2.8.2": ("energy_profile_readings", "export_active_energy_T2"),
    "2.8.3": ("energy_profile_readings", "export_active_energy_T3"),
    "2.8.4": ("energy_profile_readings", "export_active_energy_T4"),
    "3.8.0": ("energy_profile_readings", "import_total_reactive_energy"),
    "3.8.1": ("energy_profile_readings", "import_reactive_energy_T1"),
    "3.8.2": ("energy_profile_readings", "import_reactive_energy_T2"),
    "3.8.3": ("energy_profile_readings", "import_reactive_energy_T3"),
    "3.8.4": ("energy_profile_readings", "import_reactive_energy_T4"),
    "4.8.0": ("energy_profile_readings", "export_total_reactive_energy"),
    "4.8.1": ("energy_profile_readings", "export_reactive_energy_T1"),
    "4.8.2": ("energy_profile_readings", "export_reactive_energy_T2"),
    "4.8.3": ("energy_profile_readings", "export_reactive_energy_T3"),
    "4.8.4": ("energy_profile_readings", "export_reactive_energy_T4"),

    # instantaneous_profile_readings
    "32.7.0": ("instantaneous_profile_readings", "voltage_A"),
    "52.7.0": ("instantaneous_profile_readings", "voltage_B"),
    "72.7.0": ("instantaneous_profile_readings", "voltage_C"),
    "31.7.0": ("instantaneous_profile_readings", "current_A"),
    "51.7.0": ("instantaneous_profile_readings", "current_B"),
    "71.7.0": ("instantaneous_profile_readings", "current_C"),
    "15.7.0": ("instantaneous_profile_readings", "total_active_power"),
    "3.7.0":  ("instantaneous_profile_readings", "total_reactive_power"),
    "9.7.0":  ("instantaneous_profile_readings", "total_apparent_power"),
    "13.7.0": ("instantaneous_profile_readings", "total_power_factor"),
    "81.7.10": ("instantaneous_profile_readings", "energy_peak"),
    "81.7.20": ("instantaneous_profile_readings", "energy_offpeak"),
    "81.7.40": ("instantaneous_profile_readings", "energy_shoulder"),
    "81.7.51": ("instantaneous_profile_readings", "energy_highpeak"),
    "81.7.62": ("instantaneous_profile_readings", "energy_super_offpeak"),
    "15.4.0": ("instantaneous_profile_readings", "total_active_power_A_avg"),
    "23.4.0": ("instantaneous_profile_readings", "total_reactive_power_A_avg"),
    "9.4.0":  ("instantaneous_profile_readings", "total_reactive_power_B_avg"),
    "13.4.0": ("instantaneous_profile_readings", "total_reactive_power_C_avg"),
}


obis_scaling = {
    "13.7.0": 1000,
    "31.7.0": 100,
    "51.7.0": 100,
    "71.7.0": 100,
    "11.7.0": 1000,
    "21.7.0": 1000,
    "41.7.0": 1000,
    "1.7.0": 1000,
    "1.8.0": 1000,
    "1.8.1": 1000,
    "1.8.2": 1000,
    "1.8.3": 1000,
    "2.8.0": 1000,
    "2.8.1": 1000,
    "2.8.2": 1000,
    "2.8.3": 1000, 
    "3.8.0": 1000,
    "3.8.1": 1000,
    "3.8.2": 1000,
    "3.8.3": 1000, 
    "4.8.0": 1000,
    "4.8.1": 1000,
    "4.8.2": 1000,
    "4.8.3": 1000, 
    "13.8.0": 1000,
    "15.8.0": 1000,
    "31.8.0": 1000,
    "51.8.0": 1000,
    "71.8.0": 1000,
    "11.8.0": 1000,
    "21.8.0": 1000,
    "41.8.0": 1000, 
    "14.7.0": 100,
    "32.7.0": 100,
    "52.7.0": 100,
    "15.7.0": 100,  
    "72.7.0": 1000,
    "12.7.0": 1000,
    "22.7.0": 1000,
    "42.7.0": 1000,
    "33.7.0": 1000, 
    "53.7.0": 1000, 
    "73.7.0": 1000,
}


obis_name_map = {
    # instant profile 
    "32.7.0": "Voltage A (32.7.0) (V)",
    "52.7.0": "Voltage B (52.7.0) (V)",
    "72.7.0": "Voltage C (72.7.0) (V)",
    "31.7.0": "Current A (31.7.0) (A)",
    "51.7.0": "Current B (51.7.0) (A)",
    "71.7.0": "Current C (71.7.0) (A)",
    "15.7.0": "Active Power Total (15.7.0) (kW)",
    "21.7.0": "Active Power A (21.7.0) (kW)",
    "41.7.0": "Active Power B (41.7.0) (kW)",
    "61.7.0": "Active Power C (61.7.0) (kW)",
    "3.7.0": "Reactive Power Total (3.7.0) (kvar)",
    "23.7.0": "Reactive Power A (23.7.0) (kvar)",
    "43.7.0": "Reactive Power B (43.7.0) (kvar)",
    "63.7.0": "Reactive Power C (63.7.0) (kvar)",
    "33.7.0": "Apparent Power A (33.7.0) (kVA)",
    "53.7.0": "Apparent Power B (53.7.0) (kVA)",
    "73.7.0": "Apparent Power C (73.7.0) (kVA)",
    "14.7.0": "Frequency (14.7.0) (Hz)", 
    # energy profile
    "1.8.0": "Total import active energy (1.8.0) (kWh)",
    "1.8.1": "Import active energy T1 (1.8.1) (kWh)",
    "1.8.2": "Import active energy T2 (1.8.2) (kWh)",
    "1.8.3": "Import active energy T3 (1.8.3) (kWh)",
    "1.8.4": "Import active energy T4 (1.8.4) (kWh)",

    "2.8.0": "Total export active energy (2.8.0) (kWh)",
    "2.8.1": "Export active energy T1 (2.8.1) (kWh)",
    "2.8.2": "Export active energy T2 (2.8.2) (kWh)",
    "2.8.3": "Export active energy T3 (2.8.3) (kWh)",
    "2.8.4": "Export active energy T4 (2.8.4) (kWh)",

    "3.8.0": "Total import reactive energy (3.8.0) (kvarh)",
    "3.8.1": "Import reactive energy T1 (3.8.1) (kvarh)",
    "3.8.2": "Import reactive energy T2 (3.8.2) (kvarh)",
    "3.8.3": "Import reactive energy T3 (3.8.3) (kvarh)",
    "3.8.4": "Import reactive energy T4 (3.8.4) (kvarh)",

    "4.8.0": "Total export reactive energy (4.8.0) (kvarh)",
    "4.8.1": "Export reactive energy T1 (4.8.1) (kvarh)",
    "4.8.2": "Export reactive energy T2 (4.8.2) (kvarh)",
    "4.8.3": "Export reactive energy T3 (4.8.3) (kvarh)",
    "4.8.4": "Export reactive energy T4 (4.8.4) (kvarh)"
} 

current_obis = [
    "31.7.0",
    "51.7.0",
    "71.7.0", 
]
voltage_obis = [
    "32.7.0",
    "52.7.0",
    "72.7.0", 
]
energy_obis = [
    "1.8.0", # energy obis
    "1.8.1",
    "1.8.2",
    "1.8.3",
    "2.8.0",
    "2.8.1",
    "2.8.2",
    "2.8.3", 
    "3.8.0",
    "3.8.1",
    "3.8.2",
    "3.8.3", 
    "4.8.0",
    "4.8.1",
    "4.8.2",
    "4.8.3", 
    "15.7.0", # power obis 
    "21.7.0",
    "41.7.0",
    "61.7.0",
    "3.7.0",
    "23.7.0",
    "43.7.0",
    "63.7.0",
    "33.7.0",
    "53.7.0",
    "73.7.0",
]



